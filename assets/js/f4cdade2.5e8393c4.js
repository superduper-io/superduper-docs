"use strict";(self.webpackChunknewdocs=self.webpackChunknewdocs||[]).push([[3706],{4706:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>c});var r=o(4848),t=o(8453);const s={},d="superduper_mongodb",i={id:"data_plugins/mongodb",title:"mongodb",description:"Superduper MongoDB is a Python library that provides a high-level API for working with MongoDB. It is built on top of pymongo and provides a more user-friendly interface for working with MongoDB.",source:"@site/docs/data_plugins/mongodb.md",sourceDirName:"data_plugins",slug:"/data_plugins/mongodb",permalink:"/docs/next/data_plugins/mongodb",draft:!1,unlisted:!1,editUrl:"https://github.com/superduper-io/superduper/edit/main/docs/docs/data_plugins/mongodb.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Data integrations",permalink:"/docs/next/data_plugins/intro"},next:{title:"ibis",permalink:"/docs/next/data_plugins/ibis"}},l={},c=[{value:"Installation",id:"installation",level:2},{value:"API",id:"api",level:2},{value:"Connection examples",id:"connection-examples",level:2},{value:"Connect to mongomock",id:"connect-to-mongomock",level:3},{value:"Connect to MongoDB",id:"connect-to-mongodb",level:3},{value:"Connect to MongoDB Atlas",id:"connect-to-mongodb-atlas",level:3},{value:"Query examples",id:"query-examples",level:2},{value:"Inserts",id:"inserts",level:3},{value:"Updates",id:"updates",level:3},{value:"Selects",id:"selects",level:3},{value:"Vector-search",id:"vector-search",level:3},{value:"Deletes",id:"deletes",level:3}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"superduper_mongodb",children:(0,r.jsx)(n.code,{children:"superduper_mongodb"})}),"\n",(0,r.jsx)(n.p,{children:"Superduper MongoDB is a Python library that provides a high-level API for working with MongoDB. It is built on top of pymongo and provides a more user-friendly interface for working with MongoDB."}),"\n",(0,r.jsx)(n.p,{children:"In general the MongoDB query API works exactly as per pymongo, with the exception that:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"inputs are wrapped in Document"}),"\n",(0,r.jsx)(n.li,{children:"additional support for vector-search is provided"}),"\n",(0,r.jsx)(n.li,{children:"queries are executed lazily"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"pip install superduper_mongodb\n"})}),"\n",(0,r.jsx)(n.h2,{id:"api",children:"API"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/superduper-io/superduper/tree/main/plugins/mongodb",children:"Code"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/docs/api/plugins/superduper_mongodb",children:"API-docs"})}),"\n"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Class"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"superduper_mongodb.data_backend.MongoDataBackend"})}),(0,r.jsx)(n.td,{children:"Data backend for MongoDB."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"superduper_mongodb.metadata.MongoMetaDataStore"})}),(0,r.jsx)(n.td,{children:"Metadata store for MongoDB."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"superduper_mongodb.query.MongoQuery"})}),(0,r.jsx)(n.td,{children:"A query class for MongoDB."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"superduper_mongodb.query.BulkOp"})}),(0,r.jsx)(n.td,{children:"A bulk operation for MongoDB."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"superduper_mongodb.artifacts.MongoArtifactStore"})}),(0,r.jsx)(n.td,{children:"Artifact store for MongoDB."})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"connection-examples",children:"Connection examples"}),"\n",(0,r.jsx)(n.h3,{id:"connect-to-mongomock",children:"Connect to mongomock"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"from superduper import superduper\ndb = superduper('mongomock://test')\n"})}),"\n",(0,r.jsx)(n.h3,{id:"connect-to-mongodb",children:"Connect to MongoDB"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"from superduper import superduper\ndb = superduper('mongodb://localhost:27017/documents')\n"})}),"\n",(0,r.jsx)(n.h3,{id:"connect-to-mongodb-atlas",children:"Connect to MongoDB Atlas"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"from superduper import superduper\ndb = superduper('mongodb+srv://<username>:<password>@<cluster-url>/<database>')\n"})}),"\n",(0,r.jsx)(n.h2,{id:"query-examples",children:"Query examples"}),"\n",(0,r.jsx)(n.h3,{id:"inserts",children:"Inserts"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"db['my-collection'].insert_many([{'my-field': ..., ...}\n    for _ in range(20)\n]).execute()\n"})}),"\n",(0,r.jsx)(n.h3,{id:"updates",children:"Updates"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"db['my-collection'].update_many(\n    {'<my>': '<filter>'},\n    {'$set': ...},\n).execute()\n"})}),"\n",(0,r.jsx)(n.h3,{id:"selects",children:"Selects"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"db['my-collection'].find({}, {'_id': 1}).limit(10).execute()\n"})}),"\n",(0,r.jsx)(n.h3,{id:"vector-search",children:"Vector-search"}),"\n",(0,r.jsxs)(n.p,{children:["Vector-searches may be integrated with ",(0,r.jsx)(n.code,{children:".find"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"db['my-collection'].like({'img': <my_image>}, vector_index='my-index-name').find({}, {'img': 1}).execute()\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Read more about vector-search ",(0,r.jsx)(n.a,{href:"/docs/next/fundamentals/vector_search_algorithm",children:"here"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"deletes",children:"Deletes"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"db['my-collection'].delete_many({}).execute()\n"})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453:(e,n,o)=>{o.d(n,{R:()=>d,x:()=>i});var r=o(6540);const t={},s=r.createContext(t);function d(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);