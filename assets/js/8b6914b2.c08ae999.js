"use strict";(self.webpackChunknewdocs=self.webpackChunknewdocs||[]).push([[7017],{3961:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>d,metadata:()=>c,toc:()=>a});var r=n(4848),s=n(8453);const d={},i=void 0,c={id:"api/components/model",title:"model",description:"superduper.components.model",source:"@site/versioned_docs/version-0.7/api/components/model.md",sourceDirName:"api/components",slug:"/api/components/model",permalink:"/docs/api/components/model",draft:!1,unlisted:!1,editUrl:"https://github.com/superduper-io/superduper/edit/main/docs/versioned_docs/version-0.7/api/components/model.md",tags:[],version:"0.7",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"metric",permalink:"/docs/api/components/metric"},next:{title:"plugin",permalink:"/docs/api/components/plugin"}},l={},a=[{value:"<code>init_decorator</code>",id:"init_decorator",level:2},{value:"<code>method_wrapper</code>",id:"method_wrapper",level:2},{value:"<code>serve</code>",id:"serve",level:2},{value:"<code>APIBaseModel</code>",id:"apibasemodel",level:2},{value:"<code>Model</code>",id:"model",level:2},{value:"<code>ObjectModel</code>",id:"objectmodel",level:2},{value:"<code>QueryModel</code>",id:"querymodel",level:2},{value:"<code>Trainer</code>",id:"trainer",level:2},{value:"<code>Validation</code>",id:"validation",level:2},{value:"<code>APIModel</code>",id:"apimodel",level:2},{value:"<code>SequentialModel</code>",id:"sequentialmodel",level:2}];function o(e){const t={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:(0,r.jsx)(t.code,{children:"superduper.components.model"})})}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.a,{href:"https://github.com/superduper-io/superduper/blob/main/superduper/components/model.py",children:"Source code"})}),"\n",(0,r.jsx)(t.h2,{id:"init_decorator",children:(0,r.jsx)(t.code,{children:"init_decorator"})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",children:"init_decorator(func)\n"})}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Parameter"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"func"}),(0,r.jsx)(t.td,{children:"init function."})]})})]}),"\n",(0,r.jsxs)(t.p,{children:["Decorator to set _is_setup to ",(0,r.jsx)(t.code,{children:"True"})," after init method is called."]}),"\n",(0,r.jsx)(t.h2,{id:"method_wrapper",children:(0,r.jsx)(t.code,{children:"method_wrapper"})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",children:"method_wrapper(method,\n     item,\n     signature: 'str')\n"})}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Parameter"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"method"}),(0,r.jsx)(t.td,{children:"Method to execute."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"item"}),(0,r.jsx)(t.td,{children:"Item to wrap."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"signature"}),(0,r.jsx)(t.td,{children:"Signature of the method."})]})]})]}),"\n",(0,r.jsx)(t.p,{children:"Wrap the item with the model."}),"\n",(0,r.jsx)(t.h2,{id:"serve",children:(0,r.jsx)(t.code,{children:"serve"})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",children:"serve(f)\n"})}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Parameter"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"f"}),(0,r.jsx)(t.td,{children:"Method to serve."})]})})]}),"\n",(0,r.jsx)(t.p,{children:"Decorator to serve the model on the associated cluster."}),"\n",(0,r.jsx)(t.h2,{id:"apibasemodel",children:(0,r.jsx)(t.code,{children:"APIBaseModel"})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",children:"APIBaseModel(self,\n     identifier: str,\n     upstream: Optional[List[ForwardRef('Component')]] = None,\n     db: dataclasses.InitVar[typing.Optional[ForwardRef('Datalayer')]] = None,\n     *,\n     compute_kwargs: 't.Dict' = <factory>,\n     datatype: 'str | None' = None,\n     model_update_kwargs: 't.Dict' = <factory>,\n     predict_kwargs: 't.Dict' = <factory>,\n     validation: 't.Optional[Validation]' = None,\n     metric_values: 't.Dict' = <factory>,\n     num_workers: 'int' = 0,\n     serve: 'bool' = False,\n     trainer: 't.Optional[Trainer]' = None,\n     model: 't.Optional[str]' = None,\n     max_batch_size: 'int' = 8,\n     postprocess: 't.Optional[t.Callable]' = None) -> None\n"})}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Parameter"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"identifier"}),(0,r.jsx)(t.td,{children:"Identifier of the instance."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"upstream"}),(0,r.jsx)(t.td,{children:"A list of upstream components."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"compute_kwargs"}),(0,r.jsx)(t.td,{children:"Kwargs used for compute backend job submit. Example (Ray backend): compute_kwargs = dict(resources=...)."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"db"}),(0,r.jsx)(t.td,{children:"Datalayer instance. Datalayer instance."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"datatype"}),(0,r.jsx)(t.td,{children:"DataType instance."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"model_update_kwargs"}),(0,r.jsx)(t.td,{children:"The kwargs to use for model update."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"predict_kwargs"}),(0,r.jsx)(t.td,{children:"Additional arguments to use at prediction time."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"validation"}),(0,r.jsxs)(t.td,{children:["The validation ",(0,r.jsx)(t.code,{children:"Dataset"})," instances to use."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"metric_values"}),(0,r.jsx)(t.td,{children:"The metrics to evaluate on."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"num_workers"}),(0,r.jsx)(t.td,{children:"Number of workers to use for parallel prediction."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"serve"}),(0,r.jsxs)(t.td,{children:["Creates an http endpoint and serve the model with ",(0,r.jsx)(t.code,{children:"compute_kwargs"})," on a distributed cluster."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"trainer"}),(0,r.jsxs)(t.td,{children:[(0,r.jsx)(t.code,{children:"Trainer"})," instance to use for training."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"model"}),(0,r.jsxs)(t.td,{children:["The Model to use, e.g. ",(0,r.jsx)(t.code,{children:"'text-embedding-ada-002'"})]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"max_batch_size"}),(0,r.jsx)(t.td,{children:"Maximum  batch size."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"postprocess"}),(0,r.jsx)(t.td,{children:"Postprocess function to use on the output of the API request"})]})]})]}),"\n",(0,r.jsx)(t.p,{children:"APIBaseModel component which is used to make the type of API request."}),"\n",(0,r.jsx)(t.h2,{id:"model",children:(0,r.jsx)(t.code,{children:"Model"})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",children:"Model(self,\n     identifier: str,\n     upstream: Optional[List[ForwardRef('Component')]] = None,\n     db: dataclasses.InitVar[typing.Optional[ForwardRef('Datalayer')]] = None,\n     *,\n     compute_kwargs: 't.Dict' = <factory>,\n     datatype: 'str | None' = None,\n     model_update_kwargs: 't.Dict' = <factory>,\n     predict_kwargs: 't.Dict' = <factory>,\n     validation: 't.Optional[Validation]' = None,\n     metric_values: 't.Dict' = <factory>,\n     num_workers: 'int' = 0,\n     serve: 'bool' = False,\n     trainer: 't.Optional[Trainer]' = None) -> None\n"})}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Parameter"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"identifier"}),(0,r.jsx)(t.td,{children:"Identifier of the instance."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"upstream"}),(0,r.jsx)(t.td,{children:"A list of upstream components."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"compute_kwargs"}),(0,r.jsx)(t.td,{children:"Kwargs used for compute backend job submit. Example (Ray backend): compute_kwargs = dict(resources=...)."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"db"}),(0,r.jsx)(t.td,{children:"Datalayer instance. Datalayer instance."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"datatype"}),(0,r.jsx)(t.td,{children:"DataType instance."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"model_update_kwargs"}),(0,r.jsx)(t.td,{children:"The kwargs to use for model update."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"predict_kwargs"}),(0,r.jsx)(t.td,{children:"Additional arguments to use at prediction time."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"validation"}),(0,r.jsxs)(t.td,{children:["The validation ",(0,r.jsx)(t.code,{children:"Dataset"})," instances to use."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"metric_values"}),(0,r.jsx)(t.td,{children:"The metrics to evaluate on."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"num_workers"}),(0,r.jsx)(t.td,{children:"Number of workers to use for parallel prediction."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"serve"}),(0,r.jsxs)(t.td,{children:["Creates an http endpoint and serve the model with ",(0,r.jsx)(t.code,{children:"compute_kwargs"})," on a distributed cluster."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"trainer"}),(0,r.jsxs)(t.td,{children:[(0,r.jsx)(t.code,{children:"Trainer"})," instance to use for training."]})]})]})]}),"\n",(0,r.jsx)(t.p,{children:"Base class for components which can predict."}),"\n",(0,r.jsx)(t.h2,{id:"objectmodel",children:(0,r.jsx)(t.code,{children:"ObjectModel"})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",children:"ObjectModel(self,\n     identifier: str,\n     upstream: Optional[List[ForwardRef('Component')]] = None,\n     db: dataclasses.InitVar[typing.Optional[ForwardRef('Datalayer')]] = None,\n     *,\n     compute_kwargs: 't.Dict' = <factory>,\n     datatype: 'str | None' = None,\n     model_update_kwargs: 't.Dict' = <factory>,\n     predict_kwargs: 't.Dict' = <factory>,\n     validation: 't.Optional[Validation]' = None,\n     metric_values: 't.Dict' = <factory>,\n     num_workers: 'int' = 0,\n     serve: 'bool' = False,\n     trainer: 't.Optional[Trainer]' = None,\n     object: 't.Callable',\n     method: 't.Optional[str]' = None) -> None\n"})}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Parameter"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"identifier"}),(0,r.jsx)(t.td,{children:"Identifier of the instance."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"upstream"}),(0,r.jsx)(t.td,{children:"A list of upstream components."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"compute_kwargs"}),(0,r.jsx)(t.td,{children:"Kwargs used for compute backend job submit. Example (Ray backend): compute_kwargs = dict(resources=...)."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"db"}),(0,r.jsx)(t.td,{children:"Datalayer instance. Datalayer instance."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"datatype"}),(0,r.jsx)(t.td,{children:"DataType instance."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"model_update_kwargs"}),(0,r.jsx)(t.td,{children:"The kwargs to use for model update."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"predict_kwargs"}),(0,r.jsx)(t.td,{children:"Additional arguments to use at prediction time."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"validation"}),(0,r.jsxs)(t.td,{children:["The validation ",(0,r.jsx)(t.code,{children:"Dataset"})," instances to use."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"metric_values"}),(0,r.jsx)(t.td,{children:"The metrics to evaluate on."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"num_workers"}),(0,r.jsx)(t.td,{children:"Number of workers to use for parallel processing"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"serve"}),(0,r.jsxs)(t.td,{children:["Creates an http endpoint and serve the model with ",(0,r.jsx)(t.code,{children:"compute_kwargs"})," on a distributed cluster."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"trainer"}),(0,r.jsxs)(t.td,{children:[(0,r.jsx)(t.code,{children:"Trainer"})," instance to use for training."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"object"}),(0,r.jsx)(t.td,{children:"Model/ computation object"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"method"}),(0,r.jsx)(t.td,{children:"Method to call on the object"})]})]})]}),"\n",(0,r.jsx)(t.p,{children:"Model component which wraps a Model to become serializable."}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",children:"# Example:\n# -------\nm = ObjectModel('test', lambda x: x + 2)\nm.predict(2)\n# 4\n"})}),"\n",(0,r.jsx)(t.h2,{id:"querymodel",children:(0,r.jsx)(t.code,{children:"QueryModel"})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",children:"QueryModel(self,\n     identifier: str,\n     upstream: Optional[List[ForwardRef('Component')]] = None,\n     db: dataclasses.InitVar[typing.Optional[ForwardRef('Datalayer')]] = None,\n     *,\n     compute_kwargs: 't.Dict' = <factory>,\n     datatype: 'str | None' = None,\n     model_update_kwargs: 't.Dict' = <factory>,\n     predict_kwargs: 't.Dict' = <factory>,\n     validation: 't.Optional[Validation]' = None,\n     metric_values: 't.Dict' = <factory>,\n     num_workers: 'int' = 0,\n     serve: 'bool' = False,\n     trainer: 't.Optional[Trainer]' = None,\n     preprocess: 't.Optional[t.Callable]' = None,\n     postprocess: 't.Optional[t.Callable]' = None,\n     select: 'Query',\n     signature: 'Signature' = '**kwargs') -> None\n"})}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Parameter"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"identifier"}),(0,r.jsx)(t.td,{children:"Identifier of the instance."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"upstream"}),(0,r.jsx)(t.td,{children:"A list of upstream components."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"compute_kwargs"}),(0,r.jsx)(t.td,{children:"Kwargs used for compute backend job submit. Example (Ray backend): compute_kwargs = dict(resources=...)."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"db"}),(0,r.jsx)(t.td,{children:"Datalayer instance. Datalayer instance."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"datatype"}),(0,r.jsx)(t.td,{children:"DataType instance."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"model_update_kwargs"}),(0,r.jsx)(t.td,{children:"The kwargs to use for model update."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"predict_kwargs"}),(0,r.jsx)(t.td,{children:"Additional arguments to use at prediction time."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"validation"}),(0,r.jsxs)(t.td,{children:["The validation ",(0,r.jsx)(t.code,{children:"Dataset"})," instances to use."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"metric_values"}),(0,r.jsx)(t.td,{children:"The metrics to evaluate on."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"num_workers"}),(0,r.jsx)(t.td,{children:"Number of workers to use for parallel prediction."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"serve"}),(0,r.jsxs)(t.td,{children:["Creates an http endpoint and serve the model with ",(0,r.jsx)(t.code,{children:"compute_kwargs"})," on a distributed cluster."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"trainer"}),(0,r.jsxs)(t.td,{children:[(0,r.jsx)(t.code,{children:"Trainer"})," instance to use for training."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"preprocess"}),(0,r.jsx)(t.td,{children:"Preprocess callable"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"postprocess"}),(0,r.jsx)(t.td,{children:"Postprocess callable"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"select"}),(0,r.jsxs)(t.td,{children:["query used to find data (can include ",(0,r.jsx)(t.code,{children:"like"}),")"]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"signature"}),(0,r.jsx)(t.td,{children:"signature to use"})]})]})]}),"\n",(0,r.jsx)(t.p,{children:"QueryModel component."}),"\n",(0,r.jsx)(t.p,{children:"Model which can be used to query data and return those\nprecomputed queries as Results."}),"\n",(0,r.jsx)(t.h2,{id:"trainer",children:(0,r.jsx)(t.code,{children:"Trainer"})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",children:"Trainer(self,\n     identifier: str,\n     upstream: Optional[List[ForwardRef('Component')]] = None,\n     db: dataclasses.InitVar[typing.Optional[ForwardRef('Datalayer')]] = None,\n     *,\n     compute_kwargs: 't.Dict' = <factory>,\n     key: 'st.JSON',\n     select: 'st.BaseType',\n     transform: 't.Optional[t.Callable]' = None,\n     metric_values: 't.Dict' = <factory>,\n     in_memory: 'bool' = True,\n     validation: 't.Optional[Validation]' = None) -> None\n"})}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Parameter"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"identifier"}),(0,r.jsx)(t.td,{children:"Identifier of the instance."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"upstream"}),(0,r.jsx)(t.td,{children:"A list of upstream components."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"compute_kwargs"}),(0,r.jsx)(t.td,{children:"Kwargs for compute backend."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"db"}),(0,r.jsx)(t.td,{children:"Datalayer instance. Datalayer instance."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"key"}),(0,r.jsx)(t.td,{children:"Model input type key."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"select"}),(0,r.jsx)(t.td,{children:"Model select query for training."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"transform"}),(0,r.jsx)(t.td,{children:"(optional) transform callable."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"metric_values"}),(0,r.jsx)(t.td,{children:"Dictionary for metric defaults."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"in_memory"}),(0,r.jsx)(t.td,{children:"If training in memory."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"validation"}),(0,r.jsx)(t.td,{children:"Validation object to measure training performance"})]})]})]}),"\n",(0,r.jsx)(t.p,{children:"Trainer component to train a model."}),"\n",(0,r.jsxs)(t.p,{children:["Training configuration object, containing all settings necessary for a particular\nlearning task use-case to be serialized and initiated. The object is ",(0,r.jsx)(t.code,{children:"callable"}),"\nand returns a class which may be invoked to apply training."]}),"\n",(0,r.jsx)(t.h2,{id:"validation",children:(0,r.jsx)(t.code,{children:"Validation"})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",children:"Validation(self,\n     identifier: str,\n     upstream: Optional[List[ForwardRef('Component')]] = None,\n     compute_kwargs: Dict = <factory>,\n     db: dataclasses.InitVar[typing.Optional[ForwardRef('Datalayer')]] = None,\n     *,\n     metrics: 't.List[Metric]' = <factory>,\n     key: 'st.JSON',\n     datasets: 't.List[Dataset]' = <factory>) -> None\n"})}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Parameter"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"identifier"}),(0,r.jsx)(t.td,{children:"Identifier of the instance."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"upstream"}),(0,r.jsx)(t.td,{children:"A list of upstream components."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"compute_kwargs"}),(0,r.jsx)(t.td,{children:"Keyword arguments to manage the compute environment."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"db"}),(0,r.jsx)(t.td,{children:"Datalayer instance. Datalayer instance."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"metrics"}),(0,r.jsx)(t.td,{children:"List of metrics for validation"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"key"}),(0,r.jsx)(t.td,{children:"Model input type key"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"datasets"}),(0,r.jsx)(t.td,{children:"Sequence of dataset."})]})]})]}),"\n",(0,r.jsx)(t.p,{children:"Component which represents Validation definition."}),"\n",(0,r.jsx)(t.h2,{id:"apimodel",children:(0,r.jsx)(t.code,{children:"APIModel"})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",children:"APIModel(self,\n     identifier: str,\n     upstream: Optional[List[ForwardRef('Component')]] = None,\n     db: dataclasses.InitVar[typing.Optional[ForwardRef('Datalayer')]] = None,\n     *,\n     compute_kwargs: 't.Dict' = <factory>,\n     datatype: 'str | None' = None,\n     model_update_kwargs: 't.Dict' = <factory>,\n     predict_kwargs: 't.Dict' = <factory>,\n     validation: 't.Optional[Validation]' = None,\n     metric_values: 't.Dict' = <factory>,\n     num_workers: 'int' = 0,\n     serve: 'bool' = False,\n     trainer: 't.Optional[Trainer]' = None,\n     model: 't.Optional[str]' = None,\n     max_batch_size: 'int' = 8,\n     postprocess: 't.Optional[t.Callable]' = None,\n     url: 'str') -> None\n"})}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Parameter"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"identifier"}),(0,r.jsx)(t.td,{children:"Identifier of the instance."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"upstream"}),(0,r.jsx)(t.td,{children:"A list of upstream components."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"compute_kwargs"}),(0,r.jsx)(t.td,{children:"Kwargs used for compute backend job submit. Example (Ray backend): compute_kwargs = dict(resources=...)."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"db"}),(0,r.jsx)(t.td,{children:"Datalayer instance. Datalayer instance."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"datatype"}),(0,r.jsx)(t.td,{children:"DataType instance."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"model_update_kwargs"}),(0,r.jsx)(t.td,{children:"The kwargs to use for model update."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"predict_kwargs"}),(0,r.jsx)(t.td,{children:"Additional arguments to use at prediction time."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"validation"}),(0,r.jsxs)(t.td,{children:["The validation ",(0,r.jsx)(t.code,{children:"Dataset"})," instances to use."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"metric_values"}),(0,r.jsx)(t.td,{children:"The metrics to evaluate on."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"num_workers"}),(0,r.jsx)(t.td,{children:"Number of workers to use for parallel prediction."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"serve"}),(0,r.jsxs)(t.td,{children:["Creates an http endpoint and serve the model with ",(0,r.jsx)(t.code,{children:"compute_kwargs"})," on a distributed cluster."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"trainer"}),(0,r.jsxs)(t.td,{children:[(0,r.jsx)(t.code,{children:"Trainer"})," instance to use for training."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"model"}),(0,r.jsxs)(t.td,{children:["The Model to use, e.g. ",(0,r.jsx)(t.code,{children:"'text-embedding-ada-002'"})]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"max_batch_size"}),(0,r.jsx)(t.td,{children:"Maximum  batch size."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"postprocess"}),(0,r.jsx)(t.td,{children:"Postprocess function to use on the output of the API request"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"url"}),(0,r.jsx)(t.td,{children:"The url to use for the API request"})]})]})]}),"\n",(0,r.jsx)(t.p,{children:"APIModel component which is used to make the type of API request."}),"\n",(0,r.jsx)(t.h2,{id:"sequentialmodel",children:(0,r.jsx)(t.code,{children:"SequentialModel"})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",children:"SequentialModel(self,\n     identifier: str,\n     upstream: Optional[List[ForwardRef('Component')]] = None,\n     db: dataclasses.InitVar[typing.Optional[ForwardRef('Datalayer')]] = None,\n     *,\n     compute_kwargs: 't.Dict' = <factory>,\n     datatype: 'str | None' = None,\n     model_update_kwargs: 't.Dict' = <factory>,\n     predict_kwargs: 't.Dict' = <factory>,\n     validation: 't.Optional[Validation]' = None,\n     metric_values: 't.Dict' = <factory>,\n     num_workers: 'int' = 0,\n     serve: 'bool' = False,\n     trainer: 't.Optional[Trainer]' = None,\n     models: 't.List[Model]') -> None\n"})}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Parameter"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"identifier"}),(0,r.jsx)(t.td,{children:"Identifier of the instance."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"upstream"}),(0,r.jsx)(t.td,{children:"A list of upstream components."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"compute_kwargs"}),(0,r.jsx)(t.td,{children:"Kwargs used for compute backend job submit. Example (Ray backend): compute_kwargs = dict(resources=...)."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"db"}),(0,r.jsx)(t.td,{children:"Datalayer instance. Datalayer instance."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"datatype"}),(0,r.jsx)(t.td,{children:"DataType instance."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"model_update_kwargs"}),(0,r.jsx)(t.td,{children:"The kwargs to use for model update."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"predict_kwargs"}),(0,r.jsx)(t.td,{children:"Additional arguments to use at prediction time."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"validation"}),(0,r.jsxs)(t.td,{children:["The validation ",(0,r.jsx)(t.code,{children:"Dataset"})," instances to use."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"metric_values"}),(0,r.jsx)(t.td,{children:"The metrics to evaluate on."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"num_workers"}),(0,r.jsx)(t.td,{children:"Number of workers to use for parallel prediction."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"serve"}),(0,r.jsxs)(t.td,{children:["Creates an http endpoint and serve the model with ",(0,r.jsx)(t.code,{children:"compute_kwargs"})," on a distributed cluster."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"trainer"}),(0,r.jsxs)(t.td,{children:[(0,r.jsx)(t.code,{children:"Trainer"})," instance to use for training."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"models"}),(0,r.jsx)(t.td,{children:"A list of models to use"})]})]})]}),"\n",(0,r.jsx)(t.p,{children:"Sequential model component which wraps a model to become serializable."})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>c});var r=n(6540);const s={},d=r.createContext(s);function i(e){const t=r.useContext(d);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),r.createElement(d.Provider,{value:t},e.children)}}}]);