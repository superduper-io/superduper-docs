"use strict";(self.webpackChunknewdocs=self.webpackChunknewdocs||[]).push([[9062],{1217:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>l,frontMatter:()=>i,metadata:()=>o,toc:()=>a});var r=s(4848),t=s(8453);const i={},d="Architecture",o={id:"fundamentals/design",title:"Architecture",description:"Here is how superduper works under the hood:",source:"@site/docs/fundamentals/design.md",sourceDirName:"fundamentals",slug:"/fundamentals/design",permalink:"/docs/next/fundamentals/design",draft:!1,unlisted:!1,editUrl:"https://github.com/superduper-io/superduper/edit/main/docs/docs/fundamentals/design.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Fundamentals",permalink:"/docs/next/fundamentals/overview"},next:{title:"Superduper encoding",permalink:"/docs/next/fundamentals/encoding"}},c={},a=[{value:"Explanation",id:"explanation",level:3}];function h(e){const n={code:"code",h1:"h1",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"architecture",children:"Architecture"}),"\n",(0,r.jsxs)(n.p,{children:["Here is how ",(0,r.jsx)(n.code,{children:"superduper"})," works under the hood:"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:s(5300).A+"",width:"939",height:"431"})}),"\n",(0,r.jsx)(n.h3,{id:"explanation",children:"Explanation"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Users, and developers add data and components from a range of client-side mechanisms: ",(0,r.jsx)(n.strong,{children:"scripts"}),", ",(0,r.jsx)(n.strong,{children:"apps"}),", ",(0,r.jsx)(n.strong,{children:"notebooks"})," or ",(0,r.jsx)(n.strong,{children:"third-party database clients"})," (possibly non-python)."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Users and programs can add ",(0,r.jsx)(n.strong,{children:"components"})," (",(0,r.jsx)(n.strong,{children:"models"}),", data ",(0,r.jsx)(n.strong,{children:"encoders"}),", ",(0,r.jsx)(n.strong,{children:"vector-indexes"})," and more) from the client-side. Large items are stored in the ",(0,r.jsx)(n.strong,{children:"artifact-store"})," and tracked in columns from the ",(0,r.jsx)(n.strong,{children:"databackend"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Fast loading is handled with the ",(0,r.jsx)(n.strong,{children:"cache"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["When components are added with ",(0,r.jsx)(n.code,{children:"db.apply"})," they are enqueued on the ",(0,r.jsx)(n.strong,{children:"scheduler"})," which then submits work to ",(0,r.jsx)(n.strong,{children:"compute"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Certain component implementations also trigger other parts of the infrastructure (",(0,r.jsx)(n.strong,{children:"vector-search"}),", ",(0,r.jsx)(n.strong,{children:"crontab"}),", ",(0,r.jsx)(n.strong,{children:"change-data-capture"}),")"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["If data is inserted to the ",(0,r.jsx)(n.strong,{children:"databackend"})," the ",(0,r.jsx)(n.strong,{children:"change-data-capture (CDC)"})," component captures these changes as they stream in."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"(CDC)"})," triggers ",(0,r.jsx)(n.strong,{children:"work"})," to be performed in response to these changes, depending on which ",(0,r.jsx)(n.strong,{children:"components"})," are present in the system."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.strong,{children:"work"})," is submitted to the ",(0,r.jsx)(n.strong,{children:"workers"})," via the ",(0,r.jsx)(n.strong,{children:"scheduler"}),". Together the ",(0,r.jsx)(n.strong,{children:"scheduler"})," and ",(0,r.jsx)(n.strong,{children:"workers"})," make up the ",(0,r.jsx)(n.strong,{children:"compute"})," layer."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"workers"})," write their outputs back to the ",(0,r.jsx)(n.strong,{children:"databackend"})," and trained models to the ",(0,r.jsx)(n.strong,{children:"artifact-store"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.strong,{children:"datalayer"})," is the workhorse which wraps the functionality of ",(0,r.jsx)(n.strong,{children:"databackend"}),", ",(0,r.jsx)(n.strong,{children:"artifact-store"})," and ",(0,r.jsx)(n.strong,{children:"cluster"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.strong,{children:"datalayer"})," is the entrypoint for activating ",(0,r.jsx)(n.code,{children:"Component"})," instances via ",(0,r.jsx)(n.code,{children:"db.apply"}),"."]}),"\n"]}),"\n"]})]})}function l(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},5300:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/architecture-525cfdc4258bf8a08d1d3fad0f2a0ccb.png"},8453:(e,n,s)=>{s.d(n,{R:()=>d,x:()=>o});var r=s(6540);const t={},i=r.createContext(t);function d(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);