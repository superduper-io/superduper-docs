"use strict";(self.webpackChunknewdocs=self.webpackChunknewdocs||[]).push([[2514],{7755:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>s,contentTitle:()=>c,default:()=>d,frontMatter:()=>i,metadata:()=>p,toc:()=>r});var a=o(4848),t=o(8453);const i={},c="Package",p={id:"core_api/package",title:"Package",description:"Exporting Component instances",source:"@site/docs/core_api/package.md",sourceDirName:"core_api",slug:"/core_api/package",permalink:"/docs/next/core_api/package",draft:!1,unlisted:!1,editUrl:"https://github.com/superduper-io/superduper/edit/main/docs/docs/core_api/package.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Execute",permalink:"/docs/next/core_api/execute"},next:{title:"Overview",permalink:"/docs/next/components/overview"}},s={},r=[{value:"Exporting <code>Component</code> instances",id:"exporting-component-instances",level:2},{value:"Packaging multiple <code>Component</code> instances as an <code>Application</code>",id:"packaging-multiple-component-instances-as-an-application",level:2},{value:"Using variables inside a <code>Component</code>",id:"using-variables-inside-a-component",level:2},{value:"Leveraging plugins to make development code portable",id:"leveraging-plugins-to-make-development-code-portable",level:2}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h1,{id:"package",children:"Package"}),"\n",(0,a.jsxs)(n.h2,{id:"exporting-component-instances",children:["Exporting ",(0,a.jsx)(n.code,{children:"Component"})," instances"]}),"\n",(0,a.jsxs)(n.p,{children:["Packaging ",(0,a.jsx)(n.code,{children:"Component"})," instances for sharing, and using in other deployments and teams,\nis straightforward, by means of the ",(0,a.jsx)(n.a,{href:"../fundamentals/",children:"Superduper-protocol"}),", which creates\na human-readable export, linked with large data-blobs."]}),"\n",(0,a.jsx)(n.p,{children:"Any component may be exported to disk with:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"component.export('<path_to_export>')\n"})}),"\n",(0,a.jsx)(n.p,{children:"The component may be reloaded, without any type of prior initialization, in another session or program:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"from superduper import Component\n\ncomponent = Component.read('<path_to_export>', **variables)\n"})}),"\n",(0,a.jsxs)(n.p,{children:["The component may be then reused with ",(0,a.jsx)(n.code,{children:"db.apply"}),"."]}),"\n",(0,a.jsxs)(n.h2,{id:"packaging-multiple-component-instances-as-an-application",children:["Packaging multiple ",(0,a.jsx)(n.code,{children:"Component"})," instances as an ",(0,a.jsx)(n.code,{children:"Application"})]}),"\n",(0,a.jsxs)(n.p,{children:["Developers may want to ship several interconnected components, which may not have a single parent component.\nTo this end, Superduper includes the ",(0,a.jsx)(n.code,{children:"Application"})," component, which may be used to bundle the components\ntogether."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"app = Application('my-app', components=[my_model, my_cdc, my_vector_index], variables={'my_variable': 'hello'})\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Once bundled as an ",(0,a.jsx)(n.code,{children:"Application"}),", the components inside may be managed together."]}),"\n",(0,a.jsx)(n.p,{children:"For example, all components in the application may be removed in one shot:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"db.remove(component='Application', identifier='my-app', recursive=True)\n"})}),"\n",(0,a.jsxs)(n.h2,{id:"using-variables-inside-a-component",children:["Using variables inside a ",(0,a.jsx)(n.code,{children:"Component"})]}),"\n",(0,a.jsxs)(n.p,{children:["If a ",(0,a.jsx)(n.code,{children:"Component"})," has the ",(0,a.jsx)(n.code,{children:"variables"})," parameter, then these variables\nmay be referred to by any sub-",(0,a.jsx)(n.code,{children:"Component"}),". (For example in ",(0,a.jsx)(n.code,{children:"Application"}),".)"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"app.export('<path_to_export>')\n"})}),"\n",(0,a.jsx)(n.p,{children:"Load the template and reuse:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"app = Component.read('<path_to_export>', my_variable='goodbye')\n\ndb.apply(app)\n"})}),"\n",(0,a.jsx)(n.h2,{id:"leveraging-plugins-to-make-development-code-portable",children:"Leveraging plugins to make development code portable"}),"\n",(0,a.jsxs)(n.p,{children:["If developers would like to include locally developed code in their ",(0,a.jsx)(n.code,{children:"Component"}),", ",(0,a.jsx)(n.code,{children:"Application"})," and ",(0,a.jsx)(n.code,{children:"Template"})," instances and implementations,\nthey can use the ",(0,a.jsx)(n.a,{href:"../components/plugin",children:(0,a.jsx)(n.code,{children:"Plugin"})})," component."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"from superduper import Plugin\n\nplugin = Plugin('./my_local_file.py')\n\napp = Application('my-app', components=[my_model, my_cdc, my_vector_index], upstream=[plugin])\n\ndb.apply(app)   # plugin is applied first (since in `upstream`) and saved as a loadable artifact\napp.export('.')\n"})})]})}function d(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},8453:(e,n,o)=>{o.d(n,{R:()=>c,x:()=>p});var a=o(6540);const t={},i=a.createContext(t);function c(e){const n=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function p(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),a.createElement(i.Provider,{value:n},e.children)}}}]);