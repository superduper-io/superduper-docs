"use strict";(self.webpackChunknewdocs=self.webpackChunknewdocs||[]).push([[2439],{1450:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>p,frontMatter:()=>i,metadata:()=>r,toc:()=>t});var d=o(4848),c=o(8453);const i={},s="Apply",r={id:"core_api/apply",title:"Apply",description:"In superduper there are three fundamental components which you'll use quite a lot:",source:"@site/versioned_docs/version-0.7/core_api/apply.md",sourceDirName:"core_api",slug:"/core_api/apply",permalink:"/docs/core_api/apply",draft:!1,unlisted:!1,editUrl:"https://github.com/superduper-io/superduper/edit/main/docs/versioned_docs/version-0.7/core_api/apply.md",tags:[],version:"0.7",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Connect",permalink:"/docs/core_api/connect"},next:{title:"Execute",permalink:"/docs/core_api/execute"}},l={},t=[{value:"Base components",id:"base-components",level:2},{value:"<code>Model</code>",id:"model",level:3},{value:"<code>Listener</code>",id:"listener",level:3},{value:"<code>VectorIndex</code>",id:"vectorindex",level:3},{value:"<code>CDC</code>",id:"cdc",level:3},{value:"<code>CronJob</code>",id:"cronjob",level:3},{value:"Connecting component: <code>Application</code>",id:"connecting-component-application",level:2},{value:"View applied components",id:"view-applied-components",level:2},{value:"Reloading applied components",id:"reloading-applied-components",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,c.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.h1,{id:"apply",children:"Apply"}),"\n",(0,d.jsx)(n.p,{children:"In superduper there are three fundamental components which you'll use quite a lot:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"../components/model",children:(0,d.jsx)(n.code,{children:"Model"})})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"../components/listener",children:(0,d.jsx)(n.code,{children:"Listener"})})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"../components/vector_index",children:(0,d.jsx)(n.code,{children:"VectorIndex"})})}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:'In addition there is an overarching component, which is for "binding-togther" components.'}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"../components/application",children:(0,d.jsx)(n.code,{children:"Application"})})}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"You might also be interested in the change-data-capture base class and the cron-job base class,\nwhich are for building applications which respond through changing data:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"../components/cdc",children:(0,d.jsx)(n.code,{children:"CDC"})})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"../components/cron_job",children:(0,d.jsx)(n.code,{children:"CronJob"})})}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:'Whenever you wish to apply AI to your data, you will instantiate one of more of these, and "apply" these to\nyour datalayer:'}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"db.apply(component)\n"})}),"\n",(0,d.jsx)(n.h2,{id:"base-components",children:"Base components"}),"\n",(0,d.jsx)(n.h3,{id:"model",children:(0,d.jsx)(n.code,{children:"Model"})}),"\n",(0,d.jsxs)(n.p,{children:["A ",(0,d.jsx)(n.code,{children:"Model"})," is a wrapper around a standard ML/ AI model. It may contain additional functionality, such as\npre- and post-processing, and encoding/ decoding data into/ from the correct type required by the database."]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"db.apply(model)"})," tells ",(0,d.jsx)(n.code,{children:"superduper"})," to store the model and its metadata in the system."]}),"\n",(0,d.jsxs)(n.p,{children:["If additional configurations, such as training parameters, are added to the ",(0,d.jsx)(n.code,{children:"Model"})," then the ",(0,d.jsx)(n.code,{children:"db.apply"})," command\nwill also train the component on data in superduper."]}),"\n",(0,d.jsxs)(n.p,{children:["Read more about ",(0,d.jsx)(n.code,{children:"Model"})," ",(0,d.jsx)(n.a,{href:"../components/model",children:"here"}),"."]}),"\n",(0,d.jsx)(n.h3,{id:"listener",children:(0,d.jsx)(n.code,{children:"Listener"})}),"\n",(0,d.jsxs)(n.p,{children:["A ",(0,d.jsx)(n.code,{children:"Listener"})," wraps a ",(0,d.jsx)(n.code,{children:"Model"}),". The ",(0,d.jsx)(n.code,{children:"db.apply(listener)"})," tells ",(0,d.jsx)(n.code,{children:"superduper"}),' to "listen" for incoming data and to compute outputs on those data, saving them back in ',(0,d.jsx)(n.code,{children:"superduper"}),"."]}),"\n",(0,d.jsxs)(n.p,{children:["Read more about ",(0,d.jsx)(n.code,{children:"Listener"})," ",(0,d.jsx)(n.a,{href:"../components/listener",children:"here"}),"."]}),"\n",(0,d.jsx)(n.h3,{id:"vectorindex",children:(0,d.jsx)(n.code,{children:"VectorIndex"})}),"\n",(0,d.jsxs)(n.p,{children:["A ",(0,d.jsx)(n.code,{children:"VectorIndex"})," wraps one or two ",(0,d.jsx)(n.code,{children:"Listener"})," components, and tells ",(0,d.jsx)(n.code,{children:"superduper"})," that the outputs computed, should\nbe made searchable via vector-search queries."]}),"\n",(0,d.jsxs)(n.p,{children:["Read more about ",(0,d.jsx)(n.code,{children:"VectorIndex"})," ",(0,d.jsx)(n.a,{href:"../components/vector_index",children:"here"}),"."]}),"\n",(0,d.jsx)(n.h3,{id:"cdc",children:(0,d.jsx)(n.code,{children:"CDC"})}),"\n",(0,d.jsxs)(n.p,{children:["A ",(0,d.jsx)(n.code,{children:"CDC"})," is a base class which allows users to decorate methods to respond to change-data\nin specific tables."]}),"\n",(0,d.jsxs)(n.p,{children:["Read more about ",(0,d.jsx)(n.code,{children:"CDC"})," ",(0,d.jsx)(n.a,{href:"../components/cdc",children:"here"}),"."]}),"\n",(0,d.jsx)(n.h3,{id:"cronjob",children:(0,d.jsx)(n.code,{children:"CronJob"})}),"\n",(0,d.jsxs)(n.p,{children:["A ",(0,d.jsx)(n.code,{children:"CronJob"})," is a base class which allows users to schedule work which integrates with\n",(0,d.jsx)(n.code,{children:"db"})," and potentially triggers downstream computations and data inserts."]}),"\n",(0,d.jsxs)(n.p,{children:["Read more about ",(0,d.jsx)(n.code,{children:"CronJob"})," ",(0,d.jsx)(n.a,{href:"../components/cdc",children:"here"}),"."]}),"\n",(0,d.jsxs)(n.h2,{id:"connecting-component-application",children:["Connecting component: ",(0,d.jsx)(n.code,{children:"Application"})]}),"\n",(0,d.jsxs)(n.p,{children:["A ",(0,d.jsx)(n.code,{children:"Application"}),' of AI functionality is a combination of multiple components which may be "applied" in\none pass with ',(0,d.jsx)(n.code,{children:"db.apply"}),"."]}),"\n",(0,d.jsxs)(n.p,{children:["On ",(0,d.jsx)(n.code,{children:"db.apply(application)"})," superduper performs the heavy lifting of deciding which components need to be applied\nfirst, which need to be modified on incoming data, and which outputs need to be made searchable."]}),"\n",(0,d.jsxs)(n.p,{children:["Read more about ",(0,d.jsx)(n.code,{children:"Application"})," ",(0,d.jsx)(n.a,{href:"../components/application",children:"here"}),"."]}),"\n",(0,d.jsx)(n.h2,{id:"view-applied-components",children:"View applied components"}),"\n",(0,d.jsxs)(n.p,{children:["Use ",(0,d.jsx)(n.code,{children:"db.show"})," to view components."]}),"\n",(0,d.jsx)(n.p,{children:"View all components:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:">>> db.show()\n[\n  {'component': 'MyModel', 'identifier': 'my-model'},\n  {'component': 'MyOtherModel', 'identifier': 'my-other-model'}\n]\n"})}),"\n",(0,d.jsx)(n.p,{children:"View all components of a certain type:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:">>> db.show('<component>')\n['my-model', 'my-other-model']\n"})}),"\n",(0,d.jsx)(n.p,{children:"View all versions of a particular component:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:">>> db.show('<component>', '<component_identifier>')\n[0, 1, 2, 3]\n"})}),"\n",(0,d.jsx)(n.h2,{id:"reloading-applied-components",children:"Reloading applied components"}),"\n",(0,d.jsxs)(n.p,{children:["When components are applied with ",(0,d.jsx)(n.code,{children:"db.apply(component)"}),", the component is provided with a version, which may be optionally used to reload the component.\nBy default the latest version is reloaded:"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"reloaded = db.load('<component>', '<component_identifier>')\n"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"reloaded = db.load('<component>', '<component_identifier>', <version>)\n"})}),"\n",(0,d.jsxs)(n.p,{children:["For example to reload a model based on the class ",(0,d.jsx)(n.code,{children:"MyModel"})," identified by 'my-model', the first version added:"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"reloaded_model = db.load('MyModel', 'my-model', 0)\n"})})]})}function p(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(a,{...e})}):a(e)}},8453:(e,n,o)=>{o.d(n,{R:()=>s,x:()=>r});var d=o(6540);const c={},i=d.createContext(c);function s(e){const n=d.useContext(i);return d.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:s(e.components),d.createElement(i.Provider,{value:n},e.children)}}}]);